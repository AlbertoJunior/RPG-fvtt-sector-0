<div class="S0-message-content">
    <h4 style="text-align: center;">{{ localize attr1 }} + {{ localize attr2 }}</h4>
    <hr>

    {{#if haveMessageTest}}
    <p class="S0-hide-long-text" style="text-align: center;">{{ messageTest }}</p>
    <hr>
    {{/if}}

    {{#if haveResult}}
    <div class="dice-tooltip S0-container-contract">
        <p>{{localize 'S0.Habilidade'}}: {{ ability }}</p>
        <p>{{localize 'S0.Teste'}}: {{ formule }}</p>

        <hr>

        {{#unless (isEmpty overloadValues)}}
        <p>{{localize 'S0.Sobrecarga'}}:</p>
        <ol class="dice-rolls">
            {{#each overloadValues}}
            <li class="S0-d10 roll die d10 S0-d10-overload">{{ this }}</li>
            {{/each}}
        </ol>
        {{/unless}}

        {{#unless (isEmpty defaultValues)}}
        <p>{{localize 'S0.Rolagem'}}:</p>
        <ol class="dice-rolls">
            {{#each defaultValues }}
            <li class="S0-d10 roll die d10">{{ this }}</li>
            {{/each}}
        </ol>
        {{/unless}}

        <hr>

        <div
            style="display: flex; column-gap: 4px; margin-block: 6px; align-items: center; justify-content: space-around;">
            <label>{{localize 'S0.Dificuldade'}}: {{ difficulty }}</label>
            {{#if (operators 'lt' critic 10)}}
            <label>{{localize 'S0.Critico'}}: {{ critic }}</label>
            {{/if}}
        </div>

        <hr>
        {{#if (operators 'gt' penalty 0)}}
        <label style="display: block; margin-block: 4px;">{{localize 'S0.Penalidade'}}: {{ penalty }}</label>
        {{/if}}

        {{#if (operators 'gt' bonus 0)}}
        <label style="display: block; margin-block: 4px;">{{localize 'S0.Bonus'}}: {{ bonus }}</label>
        {{/if}}

        {{#if (operators 'gt' automatic 0)}}
        <label style="display: block; margin-block: 4px;">{{localize 'S0.Automatico'}}: {{ automatic }}</label>
        {{/if}}

        {{#unless (operators 'isNull' weapon)}}
        <div>
            <label style="display: block; margin-block: 4px;">
                {{localize 'S0.Arma'}}:
            </label>

            {{#if (operators 'gt' weapon.damage 0)}}
            <label style="display: block; margin-block: 4px;">
                {{localize 'S0.Dano'}}: {{ weapon.damage }}
            </label>
            {{/if}}

            {{#if (operators 'gt' weapon.true_damage 0)}}
            <label style="display: block; margin-block: 4px;">
                {{localize 'S0.Dano_Automatico'}}: {{ weapon.true_damage }}
            </label>
            {{/if}}
        </div>
        {{/unless}}
        <hr>

        {{#if canUsePerseverance}}
        <button class="S0-roll-result" data-action="roll" data-handle-on-dom="true" data-type="perseverance">
            {{localize 'S0.Usar_Perseveranca'}}
        </button>
        {{/if}}
    </div>

    <button class="S0-roll-result {{ resultMessageClasses }}" data-action="toggle-tooltip" data-handle-on-dom="true">
        {{ resultMessage }} ( {{ resultValue }} )
    </button>

    {{else}}

    <p style="text-align: center;">{{localize 'S0.Teste_Nao_Realizado'}}</p>

    <section class="dice-tooltip S0-container-contract">
        <p>{{localize 'S0.Habilidade'}}: {{ ability }}</p>
        <p>{{localize 'S0.Teste'}}: {{ formule }}</p>

        {{#if (operators 'gt' penalty 0)}}
        <label style="display: block; margin-block: 4px;">{{localize 'S0.Penalidade'}}: {{ penalty }}</label>
        {{/if}}

        {{#if (operators 'gt' bonus 0)}}
        <label style="display: block; margin-block: 4px;">{{localize 'S0.Bonus'}}: {{ bonus }}</label>
        {{/if}}

        {{#if (operators 'gt' automatic 0)}}
        <label style="display: block; margin-block: 4px;">{{localize 'S0.Automatico'}}: {{ automatic }}</label>
        {{/if}}
    </section>

    <button class="S0-roll-result" data-action="toggle-tooltip" data-handle-on-dom="true">{{localize
        'S0.Detalhes'}}</button>

    {{/if}}
</div>