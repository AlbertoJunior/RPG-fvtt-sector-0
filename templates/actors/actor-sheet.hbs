<form class="S0-actor-sheet" autocomplete="off">
    {{ log this }}
    <ul id="floating-menu" class="S0-float-right-sheet">
        {{#if canEdit}}
        <li class="S0-simulate-button {{#if editable}}S0-marked{{/if}} {{#if (gameFunc 'isCompactedSheet')}}S0-compact{{/if}}"
            data-characteristic="sheet" data-action="check" data-type="edit"
            title="{{#if editable}}{{ localize 'S0.Editando' }}{{else}}{{ localize 'S0.Editar' }}{{/if}}">
            {{#if editable}}
            <i class="fas fa-toggle-on"></i>
            {{#unless (gameFunc 'isCompactedSheet')}}
            {{ localize 'S0.Editando' }}
            {{/unless}}
            {{else}}
            <i class="fas fa-toggle-off"></i>
            {{#unless (gameFunc 'isCompactedSheet')}}
            {{ localize 'S0.Editar' }}
            {{/unless}}
            {{/if}}
        </li>
        {{/if}}

        <li class="S0-simulate-button {{#if (gameFunc 'inDarkMode')}}S0-marked{{/if}} {{#if (gameFunc 'isCompactedSheet')}}S0-compact{{/if}}"
            data-characteristic="sheet" data-action="check" data-type="color" title="{{localize 'S0.Modo_Escuro'}}">
            <i class="fas fa-circle-half-stroke"></i>
            {{#unless (gameFunc 'isCompactedSheet')}}
            {{localize 'S0.Modo_Escuro'}}
            {{/unless}}
        </li>

        <li class="S0-simulate-button {{#if (gameFunc 'isCompactedSheet')}}S0-marked{{/if}} {{#if (gameFunc 'isCompactedSheet')}}S0-compact{{/if}}"
            data-characteristic="sheet" data-action="check" data-type="compact" title="{{localize 'S0.Modo_Compacto'}}">
            <i class="fas fa-arrows-left-right-to-line"></i>
            {{#unless (gameFunc 'isCompactedSheet')}}
            {{localize 'S0.Modo_Compacto'}}
            {{/unless}}
        </li>

        {{#if canRoll}}
        <li class="S0-simulate-button {{#if (gameFunc 'isCompactedSheet')}}S0-compact{{/if}}"
            data-characteristic="sheet" data-action="roll" title="{{localize 'S0.Rolagem'}}">
            <i class="fas fa-dice-d10"></i>
            {{#unless (gameFunc 'isCompactedSheet')}}
            {{ localize 'S0.Rolagem' }}
            {{/unless}}
        </li>
        {{/if}}
    </ul>

    <header class="S0-container" {{#unless editable}}
        style="display: flex; min-height: 80px; align-items: center; justify-content: center;" {{/unless}}>
        {{#if editable}}
        <h2 class="charname" style="display: flex; align-items: center;">
            <label for="name" style="flex: 1">{{ localize 'S0.Nome' }}:</label>
            <input id="name" name="name" style="margin-left: 6px;" type="text" value="{{actor.name}}"
                placeholder="{{ localize 'S0.Nome' }}" />
        </h2>
        <ul style="columns: 2; padding: 0px; margin: 0px; margin-top: 6px">
            <li style="display: flex; align-items: center;">
                <label for="morfologia" style="flex: 1;">{{ localize 'S0.Morfologia' }}:</label>
                <select class="S0-select" id="morfologia" name="system.morfologia" style="flex: 2;">
                    {{#each (fetchRepository 'morphology')}}
                    <option value="{{id}}" {{selectIfEq ../actor.system.morfologia id }}>{{label}}</option>
                    {{/each}}
                </select>
            </li>

            <li style="display: flex; align-items: center;">
                <label for="bairro" style="flex: 1;">{{ localize 'S0.Bairro' }}:</label>
                <select class="S0-select" id="bairro" name="system.bairro" style="flex: 2;">
                    {{#each (fetchRepository 'district')}}
                    <option value="{{id}}" {{selectIfEq ../actor.system.bairro id }}>{{label}}</option>
                    {{/each}}
                </select>
            </li>
        </ul>
        {{else}}
        <div style="text-align: center; margin-top: 6px">
            <h1>
                {{actor.name}}
            </h1>
            <div>
                <h3 style="display: inline; padding-right: 6px; border-right: 1px solid var(--secondary-color);">
                    {{actor.system.morfologia}}
                </h3>
                <h3 style="display: inline; padding-left: 6px; border-left: 1px solid var(--secondary-color);">
                    {{actor.system.bairro}}
                </h3>
            </div>
        </div>
        {{/if}}
    </header>

    {{> "systems/setor0OSubmundo/templates/actors/characteristics.hbs"}}
    {{> "systems/setor0OSubmundo/templates/actors/biography.hbs"}}
    {{> "systems/setor0OSubmundo/templates/actors/enhancement.hbs"}}
    {{> "systems/setor0OSubmundo/templates/actors/equipment.hbs"}}
    {{> "systems/setor0OSubmundo/templates/actors/status.hbs"}}
    {{> "systems/setor0OSubmundo/templates/actors/shortcuts.hbs"}}
</form>